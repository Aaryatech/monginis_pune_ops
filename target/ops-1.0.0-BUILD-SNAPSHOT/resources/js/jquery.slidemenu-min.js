(function(d){var e=function(h,g){this.element=null;this.options=null;this.init("slideMenu",h,g)};e.VERSION="0.1.2";e.SLIDE_SPEED=0.5;e.DEFAULTS={side:"right",panelDirection:"vertical",iconWidth:"",panelWidth:"",autoIconWidth:true,autoPanelWidth:true,initialized:false,enabled:true,show:false,top:"",bottom:""};var f={ACTIVE:"active",OPEN:"open",CLOSED:"closed",};var b={OPENED:"slidemenu.openend",CLOSED:"slidemenu.closed",BEFORE_OPEN:"slidemenu.beforeOpen",BEFORE_CLOSE:"slidemenu.beforeClose"};e.prototype.init=function(j,i,h){this.$element=d(i);this.options=this.getOptions(h);if(this.options.initialized){console.log("Menu is already initialized. Destroy the menu before trying to initialize again.");return}if(this.$element.hasClass("left-side")){this.options.side="left"}if(document.readyState!=="complete"){d(document).on("ready",this.resize())}else{this.resize()}var g=this;d(window).resize(function(l){e.prototype.resize.apply(g)});var k=0;d(".menu-item",this.$element).each(function(l,m){d(m).css("position","absolute");d(m).attr("data-index",l);d(m).css("top",k+"px");k+=d(m).height()});this.$element.off("click").on("click",".menu-item",this,this.menuClick)};e.prototype.menuClick=function(h){var g=h.data;if(d(h.currentTarget).hasClass(f.ACTIVE)){g.close(h,g)}else{if(d(h.currentTarget).parents(".slide-menu").hasClass(f.ACTIVE)){g.switchMenus(h,g)}else{g.openMenu(h,g)}}};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(g){g=d.extend({},this.getDefaults(),this.$element.data(),g);if(g.iconWidth!==""){g.autoIconWidth=false}if(g.panelWidth!==""){g.autoPanelWidth=false}return g};e.prototype.resize=function(){var j=false;var h=0;if(typeof(this.options.top)=="number"){h=this.options.top;this.$element.css("top",this.options.top+"px")}var i=0;if(typeof(this.options.bottom)==="number"){i=this.options.bottom}var k=d(window).height()-h-i;if(k!=this.$element.height()){j=true}if(this.options.autoIconWidth&&d(".menu-icon",this.$element).outerWidth(true)>this.options.iconWidth){this.options.iconWidth=d(".menu-icon",this.$element).outerWidth(true);j=true}this.options.panelWidth=250;this.options.width=this.options.panelWidth+this.options.iconWidth;if(this.options.show===false){this.show()}if(j){this.$element.width(this.options.width);this.$element.height(k).css("top",h);if(this.options.side=="right"){var g=-this.options.iconWidth-parseInt(d(".menu-items",this.$element).css("border-left-width"));d(".menu-items",this.$element).css("left",g+"px")}else{}d(".menu-close",this.$element).css("width",this.options.iconWidth+"px")}};e.prototype.openMenu=function(k,g){g.$element.trigger(b.BEFORE_OPEN);g.$element.addClass(f.ACTIVE);d(k.currentTarget).addClass(f.ACTIVE);var l,h;var i={};console.log(g.options.width);if(g.options.side=="right"){h=parseInt(d(".menu-items",g.$element).css("border-left-width"));l=parseInt(d(".menu-items",g.$element).css("left"));i={left:parseInt(-g.options.width-l-h)+"px"}}else{if(g.options.side=="left"){l=parseInt(d(".menu-items",g.$element).css("left"));i={right:parseInt(-g.options.width+g.options.iconWidth)+"px"}}}var j={duration:250,complete:function(){if(d(".menu-item."+f.ACTIVE,g.$element).css("top")!="0px"){g.reorder(function(){g.$element.trigger(b.OPENED);g.openPanel(d(k.currentTarget))})}else{g.$element.trigger(b.OPENED);g.openPanel(d(k.currentTarget))}}};d(".menu-item."+f.ACTIVE,g.$element).animate(i,j)};e.prototype.switchMenus=function(k,g){g.closePanel();var l,h;var i={};if(g.options.side=="right"){h=parseInt(d(".menu-items",g.$element).css("border-left-width"));l=parseInt(d(".menu-items",g.$element).css("left"));i={left:parseInt(-g.options.width-l-h)+"px"}}else{if(g.options.side=="left"){l=parseInt(d(".menu-items",g.$element).css("left"));i={right:parseInt(-g.options.width+g.options.iconWidth)+"px"}}}var j={duration:250,complete:function(){g.reorder(function(){g.openPanel(d(k.currentTarget).data("target"))})}};d(k.currentTarget).stop().animate(i,j);i={};if(g.options.side=="right"){i={left:"0px"}}else{if(g.options.side=="left"){i={right:"0px"}}}d(".menu-item."+f.ACTIVE,g.$element).animate(i,250,function(){d(this).removeClass(f.ACTIVE)});d(".menu-item."+f.ACTIVE,g.$element).removeClass(f.ACTIVE);d(k.currentTarget).addClass(f.ACTIVE)};e.prototype.close=function(j){this.$element.trigger(b.BEFORE_CLOSE);var g=this;var h={};if(g.options.side=="right"){h={left:"0px"}}else{if(this.options.side=="left"){h={right:"0px"}}}this.closePanel();var i={duration:250,complete:function(){g.$element.removeClass(f.ACTIVE);g.$element.trigger(b.CLOSED);if(typeof(j)=="function"){j()}d(".menu-item."+f.ACTIVE,g.$element).removeClass(f.ACTIVE);g.reorder()}};d(".menu-item."+f.ACTIVE,g.$element).stop().animate(h,i)};e.prototype.openPanel=function(g){d(g,this.$element).addClass(f.ACTIVE);if(this.options.panelDirection=="vertical"){d(".active .menu-body",this.$element).animate({height:this.$element.height()-d(".active .menu-header").height()+"px"},250,"linear")}else{if(this.options.panelDirection=="horizontal"){}}};e.prototype.closePanel=function(j){var g=this;var h={};var i=d(".active .menu-body",g.$element);i.css("z-index","-1");window.setTimeout(function(){i.css({height:"0","z-index":""})},250)};e.prototype.open=function(g){d(".menu-item[data-target='"+g+"']",this.$element).click()};e.prototype.hide=function(i){var g=this;if(this.isOpen()){g.close(function(){h()})}else{h()}function h(){if(g.options.side=="right"){d(".menu-items",g.$element).animate({left:"0px"},250)}else{d(".menu-items",g.$element).animate({left:-g.options.width+"px"},250)}g.options.show=false}};e.prototype.show=function(j){if(this.options.show===true){return}var h=this,i,g;if(parseInt(d(".menu-items",h.$element).css("right"))===0||parseInt(d(".menu-items",h.$element).css("left"))===0){if(this.options.side=="right"){g=-h.options.iconWidth-parseInt(d(".menu-items",h.$element).css("border-left-width"));i={duration:250,complete:function(){h.options.show=true;h.resize();if(typeof(j)=="function"){j()}}};d(".menu-items",h.$element).css("left","0px").animate({left:g+"px"},i)}else{g=-h.options.width+h.options.iconWidth;i={duration:250,complete:function(){h.options.show=true;h.resize();if(typeof(j)=="function"){j()}}};d(".menu-items",h.$element).css("left",-h.options.width+"px").animate({left:g+"px"},i)}}h.options.initialized=true};e.prototype.addTab=function(g){var h=d(g.tab);if(d(h).hasClass("menu-item")===false){d(h).addClass("menu-item")}d(".menu-items",this.$element).append(h);this.reorder()};e.prototype.removeTab=function(g){d(".menu-item[data-target='"+g+"']",this.$element).replaceWith("");d(g,this.$element).replaceWith("");this.reorder()};e.prototype.hideTab=function(h){if(d(".menu-item[data-target='"+h+"']",this.$element).hasClass(f.ACTIVE)){var g=this;this.close(function(){d(".menu-item[data-target='"+h+"']",g.$element).hide()})}else{d(".menu-item[data-target='"+h+"']",this.$element).hide();this.reorder()}};e.prototype.showTab=function(g){d(".menu-item[data-target='"+g+"']",this.$element).show();this.reorder()};e.prototype.changePosition=function(h){var j=h.target;var g=h.position;var i=d(".menu-item[data-target='"+j+"']",this.$element);d(".menu-item[data-target='"+j+"']",this.$element).replaceWith("");if(g==1){d(".menu-items",this.$element).prepend(i)}else{d(".menu-item:nth-child("+parseInt(g-1)+")",this.$element).after(i)}this.reorder()};e.prototype.reorder=function(i){var g=0;if(d(".menu-item."+f.ACTIVE,this.$element).css("top")=="0px"){if(typeof(i)==="function"){i()}}else{if(d(".menu-item."+f.ACTIVE,this.$element).length>0){var h={duration:250,complete:function(){if(typeof(i)==="function"){i()}}};d(".menu-item."+f.ACTIVE,this.$element).animate({top:g+"px"},h);g+=d(".menu-item."+f.ACTIVE,this.$element).height()}}if(d(".menu-item."+f.ACTIVE).length){g=d(".menu-item."+f.ACTIVE).height()}d(".menu-item:visible",this.$element).each(function(j,k){if(d(k).hasClass(f.ACTIVE)===false){d(k).animate({top:g+"px"},250);g+=d(k).height()}})};e.prototype.disable=function(g){this.options.enabled=false};e.prototype.enable=function(g){this.options.enabled=true};e.prototype.isOpen=function(){return this.$element.hasClass(f.ACTIVE)};e.prototype.destroy=function(){this.$element.css("width","").css("height","").css("top","");this.$element.find(".menu-items").css("left","");this.$element.find(".menu-item").css("position","").css("top","").css("left","");this.$element.find(".menu-close").css("width","");delete this.options;delete this.$element};function c(h,g){return this.each(function(){var k=d(this);var j=k.data("slidemenu");var i=typeof h=="object"&&h;if(!j){k.data("slidemenu",(j=new e(this,i)))}if(typeof h=="string"){j[h](g)}})}var a=d.fn.slidemenu;d.fn.slidemenu=c;d.fn.slidemenu.Constructor=e;d.fn.slidemenu.noConflict=function(){d.fn.slidemenu=a;return this}}(jQuery));
(function(){var f,b,a,c,i,h,g={}.hasOwnProperty,d=function(m,k){for(var j in k){if(g.call(k,j)){m[j]=k[j]}}function l(){this.constructor=m}l.prototype=k.prototype;m.prototype=new l();m.__super__=k.prototype;return m},e=[].slice;b=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:require("emitter");i=function(){};f=(function(k){var l;d(j,k);j.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"];j.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(n,m){return m()},init:function(){return i},forceFallback:false,fallback:function(){var r,n,o,q,m,p;this.element.className=""+this.element.className+" dz-browser-not-supported";p=this.element.getElementsByTagName("div");for(q=0,m=p.length;q<m;q++){r=p[q];if(/(^| )dz-message($| )/.test(r.className)){n=r;r.className="dz-message";continue}}if(!n){n=j.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(n)}o=n.getElementsByTagName("span")[0];if(o){o.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(n){var p,o,m;p={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height};o=n.width/n.height;m=this.options.thumbnailWidth/this.options.thumbnailHeight;if(n.height<this.options.thumbnailHeight||n.width<this.options.thumbnailWidth){p.trgHeight=p.srcHeight;p.trgWidth=p.srcWidth}else{if(o>m){p.srcHeight=n.height;p.srcWidth=p.srcHeight*m}else{p.srcWidth=n.width;p.srcHeight=p.srcWidth/m}}p.srcX=(n.width-p.srcWidth)/2;p.srcY=(n.height-p.srcHeight)/2;return p},drop:function(m){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(m){return this.element.classList.remove("dz-drag-hover")},dragenter:function(m){return this.element.classList.add("dz-drag-hover")},dragover:function(m){return this.element.classList.add("dz-drag-hover")},dragleave:function(m){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(m){if(this.element===this.previewsContainer){return this.element.classList.add("dz-started")}},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(m){var n=this;m.previewElement=j.createElement(this.options.previewTemplate);m.previewTemplate=m.previewElement;this.previewsContainer.appendChild(m.previewElement);m.previewElement.querySelector("[data-dz-name]").textContent=m.name;m.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(m.size);if(this.options.addRemoveLinks){m._removeLink=j.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>");m._removeLink.addEventListener("click",function(o){o.preventDefault();o.stopPropagation();if(m.status===j.UPLOADING){return j.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(m)})}else{if(n.options.dictRemoveFileConfirmation){return j.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(m)})}else{return n.removeFile(m)}}});m.previewElement.appendChild(m._removeLink)}return this._updateMaxFilesReachedClass()},removedfile:function(m){var n;if((n=m.previewElement)!=null){n.parentNode.removeChild(m.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(n,o){var m;n.previewElement.classList.remove("dz-file-preview");n.previewElement.classList.add("dz-image-preview");m=n.previewElement.querySelector("[data-dz-thumbnail]");m.alt=n.name;return m.src=o},error:function(m,n){m.previewElement.classList.add("dz-error");return m.previewElement.querySelector("[data-dz-errormessage]").textContent=n},errormultiple:i,processing:function(m){m.previewElement.classList.add("dz-processing");if(m._removeLink){return m._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:i,uploadprogress:function(o,m,n){return o.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+m+"%"},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(m){return m.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(m){return this.emit("error",m,"Upload canceled.")},canceledmultiple:i,complete:function(m){if(m._removeLink){return m._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:i,maxfilesexceeded:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};l=function(){var o,n,q,r,s,p,m;r=arguments[0],q=2<=arguments.length?e.call(arguments,1):[];for(p=0,m=q.length;p<m;p++){n=q[p];for(o in n){s=n[o];r[o]=s}}return r};function j(o,n){var m,q,p;this.element=o;this.version=j.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}j.instances.push(this);o.dropzone=this;m=(p=j.optionsForElement(this.element))!=null?p:{};this.options=l({},this.defaultOptions,m,n!=null?n:{});if(this.options.forceFallback||!j.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((q=this.getExistingFallback())&&q.parentNode){q.parentNode.removeChild(q)}if(this.options.previewsContainer){this.previewsContainer=j.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=j.getElements(this.options.clickable,"clickable")}}this.init()}j.prototype.getAcceptedFiles=function(){var o,q,n,p,m;p=this.files;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];if(o.accepted){m.push(o)}}return m};j.prototype.getRejectedFiles=function(){var o,q,n,p,m;p=this.files;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];if(!o.accepted){m.push(o)}}return m};j.prototype.getQueuedFiles=function(){var o,q,n,p,m;p=this.files;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];if(o.status===j.QUEUED){m.push(o)}}return m};j.prototype.getUploadingFiles=function(){var o,q,n,p,m;p=this.files;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];if(o.status===j.UPLOADING){m.push(o)}}return m};j.prototype.init=function(){var o,s,r,q,n,p,m,t=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(j.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){r=function(){if(t.hiddenFileInput){document.body.removeChild(t.hiddenFileInput)}t.hiddenFileInput=document.createElement("input");t.hiddenFileInput.setAttribute("type","file");t.hiddenFileInput.setAttribute("multiple","multiple");if(t.options.acceptedFiles!=null){t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles)}t.hiddenFileInput.style.visibility="hidden";t.hiddenFileInput.style.position="absolute";t.hiddenFileInput.style.top="0";t.hiddenFileInput.style.left="0";t.hiddenFileInput.style.height="0";t.hiddenFileInput.style.width="0";document.body.appendChild(t.hiddenFileInput);return t.hiddenFileInput.addEventListener("change",function(){var u;u=t.hiddenFileInput.files;if(u.length){t.emit("selectedfiles",u);t.handleFiles(u)}return r()})};r()}this.URL=(p=window.URL)!=null?p:window.webkitURL;m=this.events;for(q=0,n=m.length;q<n;q++){o=m[q];this.on(o,this.options[o])}this.on("uploadprogress",function(){return t.updateTotalUploadProgress()});this.on("removedfile",function(){return t.updateTotalUploadProgress()});this.on("canceled",function(u){return t.emit("complete",u)});s=function(u){u.stopPropagation();if(u.preventDefault){return u.preventDefault()}else{return u.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(u){return t.emit("dragstart",u)},dragenter:function(u){s(u);return t.emit("dragenter",u)},dragover:function(u){s(u);return t.emit("dragover",u)},dragleave:function(u){return t.emit("dragleave",u)},drop:function(u){s(u);return t.drop(u)},dragend:function(u){return t.emit("dragend",u)}}}];this.clickableElements.forEach(function(u){return t.listeners.push({element:u,events:{click:function(v){if((u!==t.element)||(v.target===t.element||j.elementInside(v.target,t.element.querySelector(".dz-message")))){return t.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};j.prototype.destroy=function(){var m;this.disable();this.removeAllFiles(true);if((m=this.hiddenFileInput)!=null?m.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}return delete this.element.dropzone};j.prototype.updateTotalUploadProgress=function(){var n,p,t,m,s,r,o,q;m=0;t=0;n=this.getAcceptedFiles();if(n.length){q=this.getAcceptedFiles();for(r=0,o=q.length;r<o;r++){p=q[r];m+=p.upload.bytesSent;t+=p.upload.total}s=100*m/t}else{s=100}return this.emit("totaluploadprogress",s,t,m)};j.prototype.getFallbackForm=function(){var n,m,p,o;if(n=this.getExistingFallback()){return n}p='<div class="dz-fallback">';if(this.options.dictFallbackText){p+="<p>"+this.options.dictFallbackText+"</p>"}p+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>';m=j.createElement(p);if(this.element.tagName!=="FORM"){o=j.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');o.appendChild(m)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return o!=null?o:m};j.prototype.getExistingFallback=function(){var r,o,n,q,m,p;o=function(v){var t,u,s;for(u=0,s=v.length;u<s;u++){t=v[u];if(/(^| )fallback($| )/.test(t.className)){return t}}};p=["div","form"];for(q=0,m=p.length;q<m;q++){n=p[q];if(r=o(this.element.getElementsByTagName(n))){return r}}};j.prototype.setupEventListeners=function(){var p,o,s,r,n,q,m;q=this.listeners;m=[];for(r=0,n=q.length;r<n;r++){p=q[r];m.push((function(){var t,u;t=p.events;u=[];for(o in t){s=t[o];u.push(p.element.addEventListener(o,s,false))}return u})())}return m};j.prototype.removeEventListeners=function(){var p,o,s,r,n,q,m;q=this.listeners;m=[];for(r=0,n=q.length;r<n;r++){p=q[r];m.push((function(){var t,u;t=p.events;u=[];for(o in t){s=t[o];u.push(p.element.removeEventListener(o,s,false))}return u})())}return m};j.prototype.disable=function(){var o,q,n,p,m;this.clickableElements.forEach(function(r){return r.classList.remove("dz-clickable")});this.removeEventListeners();p=this.files;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];m.push(this.cancelUpload(o))}return m};j.prototype.enable=function(){this.clickableElements.forEach(function(m){return m.classList.add("dz-clickable")});return this.setupEventListeners()};j.prototype.filesize=function(n){var m;if(n>=100000000000){n=n/100000000000;m="TB"}else{if(n>=100000000){n=n/100000000;m="GB"}else{if(n>=100000){n=n/100000;m="MB"}else{if(n>=100){n=n/100;m="KB"}else{n=n*10;m="b"}}}}return"<strong>"+(Math.round(n)/10)+"</strong> "+m};j.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};j.prototype.drop=function(o){var n,m;if(!o.dataTransfer){return}this.emit("drop",o);n=o.dataTransfer.files;this.emit("selectedfiles",n);if(n.length){m=o.dataTransfer.items;if(m&&m.length&&((m[0].webkitGetAsEntry!=null)||(m[0].getAsEntry!=null))){this.handleItems(m)}else{this.handleFiles(n)}}};j.prototype.handleFiles=function(p){var o,q,n,m;m=[];for(q=0,n=p.length;q<n;q++){o=p[q];m.push(this.addFile(o))}return m};j.prototype.handleItems=function(n){var p,o,q,m;for(q=0,m=n.length;q<m;q++){o=n[q];if(o.webkitGetAsEntry!=null){p=o.webkitGetAsEntry();if(p.isFile){this.addFile(o.getAsFile())}else{if(p.isDirectory){this.addDirectory(p,p.name)}}}else{this.addFile(o.getAsFile())}}};j.prototype.accept=function(n,m){if(n.size>this.options.maxFilesize*1024*1024){return m(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!j.isValidFile(n,this.options.acceptedFiles)){return m(this.options.dictInvalidFileType)}else{if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){m(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",n)}else{return this.options.accept.call(this,n,m)}}}};j.prototype.addFile=function(m){var n=this;m.upload={progress:0,total:m.size,bytesSent:0};this.files.push(m);m.status=j.ADDED;this.emit("addedfile",m);if(this.options.createImageThumbnails&&m.type.match(/image.*/)&&m.size<=this.options.maxThumbnailFilesize*1024*1024){this.createThumbnail(m)}return this.accept(m,function(o){if(o){m.accepted=false;return n._errorProcessing([m],o)}else{return n.enqueueFile(m)}})};j.prototype.enqueueFiles=function(o){var n,p,m;for(p=0,m=o.length;p<m;p++){n=o[p];this.enqueueFile(n)}return null};j.prototype.enqueueFile=function(m){var n=this;m.accepted=true;if(m.status===j.ADDED){m.status=j.QUEUED;if(this.options.autoProcessQueue){return setTimeout((function(){return n.processQueue()}),1)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};j.prototype.addDirectory=function(n,o){var m,q,p=this;m=n.createReader();q=function(r){var t,s;for(t=0,s=r.length;t<s;t++){n=r[t];if(n.isFile){n.file(function(u){if(p.options.ignoreHiddenFiles&&u.name.substring(0,1)==="."){return}u.fullPath=""+o+"/"+u.name;return p.addFile(u)})}else{if(n.isDirectory){p.addDirectory(n,""+o+"/"+n.name)}}}};return m.readEntries(q,function(r){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(r):void 0:void 0})};j.prototype.removeFile=function(m){if(m.status===j.UPLOADING){this.cancelUpload(m)}this.files=h(this.files,m);this.emit("removedfile",m);if(this.files.length===0){return this.emit("reset")}};j.prototype.removeAllFiles=function(q){var n,p,m,o;if(q==null){q=false}o=this.files.slice();for(p=0,m=o.length;p<m;p++){n=o[p];if(n.status!==j.UPLOADING||q){this.removeFile(n)}}return null};j.prototype.createThumbnail=function(n){var m,o=this;m=new FileReader;m.onload=function(){var p;p=new Image;p.onload=function(){var s,r,v,x,t,q,w,u;n.width=p.width;n.height=p.height;v=o.options.resize.call(o,n);if(v.trgWidth==null){v.trgWidth=o.options.thumbnailWidth}if(v.trgHeight==null){v.trgHeight=o.options.thumbnailHeight}s=document.createElement("canvas");r=s.getContext("2d");s.width=v.trgWidth;s.height=v.trgHeight;r.drawImage(p,(t=v.srcX)!=null?t:0,(q=v.srcY)!=null?q:0,v.srcWidth,v.srcHeight,(w=v.trgX)!=null?w:0,(u=v.trgY)!=null?u:0,v.trgWidth,v.trgHeight);x=s.toDataURL("image/png");return o.emit("thumbnail",n,x)};return p.src=m.result};return m.readAsDataURL(n)};j.prototype.processQueue=function(){var n,p,m,o;p=this.options.parallelUploads;m=this.getUploadingFiles().length;n=m;if(m>=p){return}o=this.getQueuedFiles();if(!(o.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(o.slice(0,p-m))}else{while(n<p){if(!o.length){return}this.processFile(o.shift());n++}}};j.prototype.processFile=function(m){return this.processFiles([m])};j.prototype.processFiles=function(o){var n,p,m;for(p=0,m=o.length;p<m;p++){n=o[p];n.processing=true;n.status=j.UPLOADING;this.emit("processing",n)}if(this.options.uploadMultiple){this.emit("processingmultiple",o)}return this.uploadFiles(o)};j.prototype._getFilesWithXhr=function(o){var m,n;return n=(function(){var s,q,r,p;r=this.files;p=[];for(s=0,q=r.length;s<q;s++){m=r[s];if(m.xhr===o){p.push(m)}}return p}).call(this)};j.prototype.cancelUpload=function(q){var o,p,t,r,n,m,s;if(q.status===j.UPLOADING){p=this._getFilesWithXhr(q.xhr);for(t=0,n=p.length;t<n;t++){o=p[t];o.status=j.CANCELED}q.xhr.abort();for(r=0,m=p.length;r<m;r++){o=p[r];this.emit("canceled",o)}if(this.options.uploadMultiple){this.emit("canceledmultiple",p)}}else{if((s=q.status)===j.ADDED||s===j.QUEUED){q.status=j.CANCELED;this.emit("canceled",q);if(this.options.uploadMultiple){this.emit("canceledmultiple",[q])}}}if(this.options.autoProcessQueue){return this.processQueue()}};j.prototype.uploadFile=function(m){return this.uploadFiles([m])};j.prototype.uploadFiles=function(v){var J,I,A,E,x,s,D,z,F,O,w,n,B,G,y,r,p,o,m,L,N,M,K,C,u,t,q,H=this;y=new XMLHttpRequest();for(r=0,L=v.length;r<L;r++){J=v[r];J.xhr=y}y.open(this.options.method,this.options.url,true);y.withCredentials=!!this.options.withCredentials;n=null;A=function(){var R,Q,P;P=[];for(R=0,Q=v.length;R<Q;R++){J=v[R];P.push(H._errorProcessing(v,n||H.options.dictResponseError.replace("{{statusCode}}",y.status),y))}return P};B=function(Y){var T,Q,X,V,U,S,R,P,W;if(Y!=null){Q=100*Y.loaded/Y.total;for(X=0,S=v.length;X<S;X++){J=v[X];J.upload={progress:Q,total:Y.total,bytesSent:Y.loaded}}}else{T=true;Q=100;for(V=0,R=v.length;V<R;V++){J=v[V];if(!(J.upload.progress===100&&J.upload.bytesSent===J.upload.total)){T=false}J.upload.progress=Q;J.upload.bytesSent=J.upload.total}if(T){return}}W=[];for(U=0,P=v.length;U<P;U++){J=v[U];W.push(H.emit("uploadprogress",J,Q,J.upload.bytesSent))}return W};y.onload=function(Q){var P;if(v[0].status===j.CANCELED){return}if(y.readyState!==4){return}n=y.responseText;if(y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json")){try{n=JSON.parse(n)}catch(R){Q=R;n="Invalid JSON response from server."}}B();if(!((200<=(P=y.status)&&P<300))){return A()}else{return H._finished(v,n,Q)}};y.onerror=function(){if(v[0].status===j.CANCELED){return}return A()};w=(C=y.upload)!=null?C:y;w.onprogress=B;s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){l(s,this.options.headers)}for(E in s){x=s[E];y.setRequestHeader(E,x)}I=new FormData();if(this.options.params){u=this.options.params;for(O in u){G=u[O];I.append(O,G)}}for(p=0,N=v.length;p<N;p++){J=v[p];this.emit("sending",J,y,I)}if(this.options.uploadMultiple){this.emit("sendingmultiple",v,y,I)}if(this.element.tagName==="FORM"){t=this.element.querySelectorAll("input, textarea, select, button");for(o=0,M=t.length;o<M;o++){D=t[o];z=D.getAttribute("name");F=D.getAttribute("type");if(!F||((q=F.toLowerCase())!=="checkbox"&&q!=="radio")||D.checked){I.append(z,D.value)}}}for(m=0,K=v.length;m<K;m++){J=v[m];I.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),J,J.name)}return y.send(I)};j.prototype._finished=function(o,q,r){var n,p,m;for(p=0,m=o.length;p<m;p++){n=o[p];n.status=j.SUCCESS;this.emit("success",n,q,r);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("successmultiple",o,q,r);this.emit("completemultiple",o)}if(this.options.autoProcessQueue){return this.processQueue()}};j.prototype._errorProcessing=function(p,o,r){var n,q,m;for(q=0,m=p.length;q<m;q++){n=p[q];n.status=j.ERROR;this.emit("error",n,o,r);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("errormultiple",p,o,r);this.emit("completemultiple",p)}if(this.options.autoProcessQueue){return this.processQueue()}};return j})(b);f.version="3.7.1";f.options={};f.optionsForElement=function(j){if(j.id){return f.options[a(j.id)]}else{return void 0}};f.instances=[];f.forElement=function(j){if(typeof j==="string"){j=document.querySelector(j)}if((j!=null?j.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return j.dropzone};f.autoDiscover=true;f.discover=function(){var o,l,m,n,k,j;if(document.querySelectorAll){m=document.querySelectorAll(".dropzone")}else{m=[];o=function(t){var r,s,q,p;p=[];for(s=0,q=t.length;s<q;s++){r=t[s];if(/(^| )dropzone($| )/.test(r.className)){p.push(m.push(r))}else{p.push(void 0)}}return p};o(document.getElementsByTagName("div"));o(document.getElementsByTagName("form"))}j=[];for(n=0,k=m.length;n<k;n++){l=m[n];if(f.optionsForElement(l)!==false){j.push(new f(l))}else{j.push(void 0)}}return j};f.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];f.isBrowserSupported=function(){var k,l,n,j,m;k=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){k=false}else{m=f.blacklistedBrowsers;for(n=0,j=m.length;n<j;n++){l=m[n];if(l.test(navigator.userAgent)){k=false;continue}}}}else{k=false}return k};h=function(o,l){var m,n,k,j;j=[];for(n=0,k=o.length;n<k;n++){m=o[n];if(m!==l){j.push(m)}}return j};a=function(j){return j.replace(/[\-_](\w)/g,function(k){return k[1].toUpperCase()})};f.createElement=function(j){var k;k=document.createElement("div");k.innerHTML=j;return k.childNodes[0]};f.elementInside=function(k,j){if(k===j){return true}while(k=k.parentNode){if(k===j){return true}}return false};f.getElement=function(l,j){var k;if(typeof l==="string"){k=document.querySelector(l)}else{if(l.nodeType!=null){k=l}}if(k==null){throw new Error("Invalid `"+j+"` option provided. Please provide a CSS selector or a plain HTML element.")}return k};f.getElements=function(p,k){var r,m,j,o,n,s,l,q;if(p instanceof Array){j=[];try{for(o=0,s=p.length;o<s;o++){m=p[o];j.push(this.getElement(m,k))}}catch(t){r=t;j=null}}else{if(typeof p==="string"){j=[];q=document.querySelectorAll(p);for(n=0,l=q.length;n<l;n++){m=q[n];j.push(m)}}else{if(p.nodeType!=null){j=[p]}}}if(!((j!=null)&&j.length)){throw new Error("Invalid `"+k+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return j};f.confirm=function(j,l,k){if(window.confirm(j)){return l()}else{if(k!=null){return k()}}};f.isValidFile=function(m,j){var l,p,n,o,k;if(!j){return true}j=j.split(",");p=m.type;l=p.replace(/\/.*$/,"");for(o=0,k=j.length;o<k;o++){n=j[o];n=n.trim();if(n.charAt(0)==="."){if(m.name.indexOf(n,m.name.length-n.length)!==-1){return true}}else{if(/\/\*$/.test(n)){if(l===n.replace(/\/.*$/,"")){return true}}else{if(p===n){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(j){return this.each(function(){return new f(this,j)})}}if(typeof module!=="undefined"&&module!==null){module.exports=f}else{window.Dropzone=f}f.ADDED="added";f.QUEUED="queued";f.ACCEPTED=f.QUEUED;f.UPLOADING="uploading";f.PROCESSING=f.UPLOADING;f.CANCELED="canceled";f.ERROR="error";f.SUCCESS="success";c=function(l,p){var u,q,k,t,m,j,s,o,n;k=false;n=true;q=l.document;o=q.documentElement;u=(q.addEventListener?"addEventListener":"attachEvent");s=(q.addEventListener?"removeEventListener":"detachEvent");j=(q.addEventListener?"":"on");t=function(v){if(v.type==="readystatechange"&&q.readyState!=="complete"){return}(v.type==="load"?l:q)[s](j+v.type,t,false);if(!k&&(k=true)){return p.call(l,v.type||v)}};m=function(){var v;try{o.doScroll("left")}catch(w){v=w;setTimeout(m,50);return}return t("poll")};if(q.readyState!=="complete"){if(q.createEventObject&&o.doScroll){try{n=!l.frameElement}catch(r){}if(n){m()}}q[u](j+"DOMContentLoaded",t,false);q[u](j+"readystatechange",t,false);return l[u](j+"load",t,false)}};f._autoDiscoverFunction=function(){if(f.autoDiscover){return f.discover()}};c(window,f._autoDiscoverFunction)}).call(this);
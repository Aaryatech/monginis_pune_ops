!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(f){function e(b){return b?h(b):void 0}function h(b){for(var d in e.prototype){b[d]=e.prototype[d]}return b}var g={exports:{}};return g.exports=e,e.prototype.on=function(d,c){return this._callbacks=this._callbacks||{},(this._callbacks[d]=this._callbacks[d]||[]).push(c),this},e.prototype.once=function(j,i){function l(){k.off(j,l),i.apply(this,arguments)}var k=this;return this._callbacks=this._callbacks||{},i._off=l,this.on(j,l),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=function(j,i){this._callbacks=this._callbacks||{};var l=this._callbacks[j];if(!l){return this}if(1==arguments.length){return delete this._callbacks[j],this}var k=l.indexOf(i._off||i);return ~k&&l.splice(k,1),this},e.prototype.emit=function(j){this._callbacks=this._callbacks||{};var i=[].slice.call(arguments,1),m=this._callbacks[j];if(m){m=m.slice(0);for(var l=0,k=m.length;k>l;++l){m[l].apply(this,i)}}return this},e.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks[b]||[]},e.prototype.hasListeners=function(b){return !!this.listeners(b).length},function(){var r,q,p,o,n,m,d={}.hasOwnProperty,b=function(j,i){function l(){this.constructor=j}for(var k in i){d.call(i,k)&&(j[k]=i[k])}return l.prototype=i.prototype,j.prototype=new l,j.__super__=i.prototype,j},a=[].slice;q="undefined"!=typeof e&&null!==e?e:require("emitter"),n=function(){},r=function(j){function i(c,u){var t,s,l;if(this.element=c,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}if(i.instances.push(this),c.dropzone=this,t=null!=(l=i.optionsForElement(this.element))?l:{},this.options=k({},this.defaultOptions,t,null!=u?u:{}),this.options.forceFallback||!i.isBrowserSupported()){return this.options.fallback.call(this)}if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var k;return b(i,j),i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(l,c){return c()},init:function(){return n},forceFallback:!1,fallback:function(){var l,w,v,u,t,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),u=0,t=s.length;t>u;u++){l=s[u],/(^| )dz-message($| )/.test(l.className)&&(w=l,l.className="dz-message")}return w||(w=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(w)),v=w.getElementsByTagName("span")[0],v&&(v.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(s){var l,u,t;return l={srcX:0,srcY:0,srcWidth:s.width,srcHeight:s.height},u=s.width/s.height,t=this.options.thumbnailWidth/this.options.thumbnailHeight,s.height<this.options.thumbnailHeight||s.width<this.options.thumbnailWidth?(l.trgHeight=l.srcHeight,l.trgWidth=l.srcWidth):u>t?(l.srcHeight=s.height,l.srcWidth=l.srcHeight*t):(l.srcWidth=s.width,l.srcHeight=l.srcWidth/t),l.srcX=(s.width-l.srcWidth)/2,l.srcY=(s.height-l.srcHeight)/2,l},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(l){var s=this;return l.previewElement=i.createElement(this.options.previewTemplate),l.previewTemplate=l.previewElement,this.previewsContainer.appendChild(l.previewElement),l.previewElement.querySelector("[data-dz-name]").textContent=l.name,l.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(l.size),this.options.addRemoveLinks&&(l._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>"),l._removeLink.addEventListener("click",function(c){return c.preventDefault(),c.stopPropagation(),l.status===i.UPLOADING?i.confirm(s.options.dictCancelUploadConfirmation,function(){return s.removeFile(l)}):s.options.dictRemoveFileConfirmation?i.confirm(s.options.dictRemoveFileConfirmation,function(){return s.removeFile(l)}):s.removeFile(l)}),l.previewElement.appendChild(l._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(l){var c;return null!=(c=l.previewElement)&&c.parentNode.removeChild(l.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(s,l){var t;return s.previewElement.classList.remove("dz-file-preview"),s.previewElement.classList.add("dz-image-preview"),t=s.previewElement.querySelector("[data-dz-thumbnail]"),t.alt=s.name,t.src=l},error:function(l,c){return l.previewElement.classList.add("dz-error"),l.previewElement.querySelector("[data-dz-errormessage]").textContent=c},errormultiple:n,processing:function(c){return c.previewElement.classList.add("dz-processing"),c._removeLink?c._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:n,uploadprogress:function(l,c){return l.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+c+"%"},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(c){return c.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(c){return this.emit("error",c,"Upload canceled.")},canceledmultiple:n,complete:function(c){return c._removeLink?c._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:n,maxfilesexceeded:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},k=function(){var s,l,x,w,v,u,t;for(w=arguments[0],x=2<=arguments.length?a.call(arguments,1):[],u=0,t=x.length;t>u;u++){l=x[u];for(s in l){v=l[s],w[s]=v}}return w},i.prototype.getAcceptedFiles=function(){var s,l,v,u,t;for(u=this.files,t=[],l=0,v=u.length;v>l;l++){s=u[l],s.accepted&&t.push(s)}return t},i.prototype.getRejectedFiles=function(){var s,l,v,u,t;for(u=this.files,t=[],l=0,v=u.length;v>l;l++){s=u[l],s.accepted||t.push(s)}return t},i.prototype.getQueuedFiles=function(){var l,v,u,t,s;for(t=this.files,s=[],v=0,u=t.length;u>v;v++){l=t[v],l.status===i.QUEUED&&s.push(l)}return s},i.prototype.getUploadingFiles=function(){var l,v,u,t,s;for(t=this.files,s=[],v=0,u=t.length;u>v;v++){l=t[v],l.status===i.UPLOADING&&s.push(l)}return s},i.prototype.init=function(){var l,y,x,w,v,u,t,s=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(x=function(){return s.hiddenFileInput&&document.body.removeChild(s.hiddenFileInput),s.hiddenFileInput=document.createElement("input"),s.hiddenFileInput.setAttribute("type","file"),s.hiddenFileInput.setAttribute("multiple","multiple"),null!=s.options.acceptedFiles&&s.hiddenFileInput.setAttribute("accept",s.options.acceptedFiles),s.hiddenFileInput.style.visibility="hidden",s.hiddenFileInput.style.position="absolute",s.hiddenFileInput.style.top="0",s.hiddenFileInput.style.left="0",s.hiddenFileInput.style.height="0",s.hiddenFileInput.style.width="0",document.body.appendChild(s.hiddenFileInput),s.hiddenFileInput.addEventListener("change",function(){var c;return c=s.hiddenFileInput.files,c.length&&(s.emit("selectedfiles",c),s.handleFiles(c)),x()})},x()),this.URL=null!=(u=window.URL)?u:window.webkitURL,t=this.events,w=0,v=t.length;v>w;w++){l=t[w],this.on(l,this.options[l])}return this.on("uploadprogress",function(){return s.updateTotalUploadProgress()}),this.on("removedfile",function(){return s.updateTotalUploadProgress()}),this.on("canceled",function(c){return s.emit("complete",c)}),y=function(c){return c.stopPropagation(),c.preventDefault?c.preventDefault():c.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(c){return s.emit("dragstart",c)},dragenter:function(c){return y(c),s.emit("dragenter",c)},dragover:function(c){return y(c),s.emit("dragover",c)},dragleave:function(c){return s.emit("dragleave",c)},drop:function(c){return y(c),s.drop(c)},dragend:function(c){return s.emit("dragend",c)}}}],this.clickableElements.forEach(function(c){return s.listeners.push({element:c,events:{click:function(z){return c!==s.element||z.target===s.element||i.elementInside(z.target,s.element.querySelector(".dz-message"))?s.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var c;return this.disable(),this.removeAllFiles(!0),(null!=(c=this.hiddenFileInput)?c.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},i.prototype.updateTotalUploadProgress=function(){var s,l,y,x,w,v,u,t;if(x=0,y=0,s=this.getAcceptedFiles(),s.length){for(t=this.getAcceptedFiles(),v=0,u=t.length;u>v;v++){l=t[v],x+=l.upload.bytesSent,y+=l.upload.total}w=100*x/y}else{w=100}return this.emit("totaluploadprogress",w,y,x)},i.prototype.getFallbackForm=function(){var l,u,t,s;return(l=this.getExistingFallback())?l:(t='<div class="dz-fallback">',this.options.dictFallbackText&&(t+="<p>"+this.options.dictFallbackText+"</p>"),t+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>',u=i.createElement(t),"FORM"!==this.element.tagName?(s=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(u)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:u)},i.prototype.getExistingFallback=function(){var s,l,w,v,u,t;for(l=function(y){var x,A,z;for(A=0,z=y.length;z>A;A++){if(x=y[A],/(^| )fallback($| )/.test(x.className)){return x}}},t=["div","form"],v=0,u=t.length;u>v;v++){if(w=t[v],s=l(this.element.getElementsByTagName(w))){return s}}},i.prototype.setupEventListeners=function(){var s,l,x,w,v,u,t;for(u=this.listeners,t=[],w=0,v=u.length;v>w;w++){s=u[w],t.push(function(){var y,c;y=s.events,c=[];for(l in y){x=y[l],c.push(s.element.addEventListener(l,x,!1))}return c}())}return t},i.prototype.removeEventListeners=function(){var s,l,x,w,v,u,t;for(u=this.listeners,t=[],w=0,v=u.length;v>w;w++){s=u[w],t.push(function(){var y,c;y=s.events,c=[];for(l in y){x=y[l],c.push(s.element.removeEventListener(l,x,!1))}return c}())}return t},i.prototype.disable=function(){var s,l,v,u,t;for(this.clickableElements.forEach(function(c){return c.classList.remove("dz-clickable")}),this.removeEventListeners(),u=this.files,t=[],l=0,v=u.length;v>l;l++){s=u[l],t.push(this.cancelUpload(s))}return t},i.prototype.enable=function(){return this.clickableElements.forEach(function(c){return c.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(l){var c;return l>=100000000000?(l/=100000000000,c="TB"):l>=100000000?(l/=100000000,c="GB"):l>=100000?(l/=100000,c="MB"):l>=100?(l/=100,c="KB"):(l=10*l,c="b"),"<strong>"+Math.round(l)/10+"</strong> "+c},i.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(s){var l,t;s.dataTransfer&&(this.emit("drop",s),l=s.dataTransfer.files,this.emit("selectedfiles",l),l.length&&(t=s.dataTransfer.items,t&&t.length&&(null!=t[0].webkitGetAsEntry||null!=t[0].getAsEntry)?this.handleItems(t):this.handleFiles(l)))},i.prototype.handleFiles=function(s){var l,v,u,t;for(t=[],v=0,u=s.length;u>v;v++){l=s[v],t.push(this.addFile(l))}return t},i.prototype.handleItems=function(s){var l,v,u,t;for(u=0,t=s.length;t>u;u++){v=s[u],null!=v.webkitGetAsEntry?(l=v.webkitGetAsEntry(),l.isFile?this.addFile(v.getAsFile()):l.isDirectory&&this.addDirectory(l,l.name)):this.addFile(v.getAsFile())}},i.prototype.accept=function(l,s){return l.size>1024*1024*this.options.maxFilesize?s(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(l.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(l,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(s(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",l)):this.options.accept.call(this,l,s):s(this.options.dictInvalidFileType)},i.prototype.addFile=function(l){var s=this;return l.upload={progress:0,total:l.size,bytesSent:0},this.files.push(l),l.status=i.ADDED,this.emit("addedfile",l),this.options.createImageThumbnails&&l.type.match(/image.*/)&&l.size<=1024*1024*this.options.maxThumbnailFilesize&&this.createThumbnail(l),this.accept(l,function(c){return c?(l.accepted=!1,s._errorProcessing([l],c)):s.enqueueFile(l)})},i.prototype.enqueueFiles=function(s){var l,u,t;for(u=0,t=s.length;t>u;u++){l=s[u],this.enqueueFile(l)}return null},i.prototype.enqueueFile=function(l){var s=this;if(l.accepted=!0,l.status!==i.ADDED){throw new Error("This file can't be queued because it has already been processed or was rejected.")}return l.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return s.processQueue()},1):void 0},i.prototype.addDirectory=function(s,l){var v,u,t=this;return v=s.createReader(),u=function(y){var x,w;for(x=0,w=y.length;w>x;x++){s=y[x],s.isFile?s.file(function(c){return t.options.ignoreHiddenFiles&&"."===c.name.substring(0,1)?void 0:(c.fullPath=""+l+"/"+c.name,t.addFile(c))}):s.isDirectory&&t.addDirectory(s,""+l+"/"+s.name)}},v.readEntries(u,function(c){return"undefined"!=typeof console&&null!==console?"function"==typeof console.log?console.log(c):void 0:void 0})},i.prototype.removeFile=function(c){return c.status===i.UPLOADING&&this.cancelUpload(c),this.files=m(this.files,c),this.emit("removedfile",c),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(l){var v,u,t,s;for(null==l&&(l=!1),s=this.files.slice(),u=0,t=s.length;t>u;u++){v=s[u],(v.status!==i.UPLOADING||l)&&this.removeFile(v)}return null},i.prototype.createThumbnail=function(s){var l,t=this;return l=new FileReader,l.onload=function(){var c;return c=new Image,c.onload=function(){var u,B,A,z,y,x,w,v;return s.width=c.width,s.height=c.height,A=t.options.resize.call(t,s),null==A.trgWidth&&(A.trgWidth=t.options.thumbnailWidth),null==A.trgHeight&&(A.trgHeight=t.options.thumbnailHeight),u=document.createElement("canvas"),B=u.getContext("2d"),u.width=A.trgWidth,u.height=A.trgHeight,B.drawImage(c,null!=(y=A.srcX)?y:0,null!=(x=A.srcY)?x:0,A.srcWidth,A.srcHeight,null!=(w=A.trgX)?w:0,null!=(v=A.trgY)?v:0,A.trgWidth,A.trgHeight),z=u.toDataURL("image/png"),t.emit("thumbnail",s,z)},c.src=l.result},l.readAsDataURL(s)},i.prototype.processQueue=function(){var s,l,u,t;if(l=this.options.parallelUploads,u=this.getUploadingFiles().length,s=u,!(u>=l)&&(t=this.getQueuedFiles(),t.length>0)){if(this.options.uploadMultiple){return this.processFiles(t.slice(0,l-u))}for(;l>s;){if(!t.length){return}this.processFile(t.shift()),s++}}},i.prototype.processFile=function(c){return this.processFiles([c])},i.prototype.processFiles=function(l){var u,t,s;for(t=0,s=l.length;s>t;t++){u=l[t],u.processing=!0,u.status=i.UPLOADING,this.emit("processing",u)}return this.options.uploadMultiple&&this.emit("processingmultiple",l),this.uploadFiles(l)},i.prototype._getFilesWithXhr=function(s){var l,t;return t=function(){var x,w,v,u;for(v=this.files,u=[],x=0,w=v.length;w>x;x++){l=v[x],l.xhr===s&&u.push(l)}return u}.call(this)},i.prototype.cancelUpload=function(l){var y,x,w,v,u,t,s;if(l.status===i.UPLOADING){for(x=this._getFilesWithXhr(l.xhr),w=0,u=x.length;u>w;w++){y=x[w],y.status=i.CANCELED}for(l.xhr.abort(),v=0,t=x.length;t>v;v++){y=x[v],this.emit("canceled",y)}this.options.uploadMultiple&&this.emit("canceledmultiple",x)}else{((s=l.status)===i.ADDED||s===i.QUEUED)&&(l.status=i.CANCELED,this.emit("canceled",l),this.options.uploadMultiple&&this.emit("canceledmultiple",[l]))}return this.options.autoProcessQueue?this.processQueue():void 0},i.prototype.uploadFile=function(c){return this.uploadFiles([c])},i.prototype.uploadFiles=function(ag){var af,ae,ad,ac,ab,aa,Z,Y,X,W,V,U,T,R,P,N,L,J,I,H,G,F,c,S,Q,O,M,K=this;for(P=new XMLHttpRequest,N=0,H=ag.length;H>N;N++){af=ag[N],af.xhr=P}P.open(this.options.method,this.options.url,!0),P.withCredentials=!!this.options.withCredentials,U=null,ad=function(){var l,t,s;for(s=[],l=0,t=ag.length;t>l;l++){af=ag[l],s.push(K._errorProcessing(ag,U||K.options.dictResponseError.replace("{{statusCode}}",P.status),P))}return s},T=function(B){var A,z,y,x,w,v,u,t,s;if(null!=B){for(z=100*B.loaded/B.total,y=0,v=ag.length;v>y;y++){af=ag[y],af.upload={progress:z,total:B.total,bytesSent:B.loaded}}}else{for(A=!0,z=100,x=0,u=ag.length;u>x;x++){af=ag[x],(100!==af.upload.progress||af.upload.bytesSent!==af.upload.total)&&(A=!1),af.upload.progress=z,af.upload.bytesSent=af.upload.total}if(A){return}}for(s=[],w=0,t=ag.length;t>w;w++){af=ag[w],s.push(K.emit("uploadprogress",af,z,af.upload.bytesSent))}return s},P.onload=function(t){var s;if(ag[0].status!==i.CANCELED&&4===P.readyState){if(U=P.responseText,P.getResponseHeader("content-type")&&~P.getResponseHeader("content-type").indexOf("application/json")){try{U=JSON.parse(U)}catch(l){t=l,U="Invalid JSON response from server."}}return T(),200<=(s=P.status)&&300>s?K._finished(ag,U,t):ad()}},P.onerror=function(){return ag[0].status!==i.CANCELED?ad():void 0},V=null!=(S=P.upload)?S:P,V.onprogress=T,aa={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&k(aa,this.options.headers);for(ac in aa){ab=aa[ac],P.setRequestHeader(ac,ab)}if(ae=new FormData,this.options.params){Q=this.options.params;for(W in Q){R=Q[W],ae.append(W,R)}}for(L=0,G=ag.length;G>L;L++){af=ag[L],this.emit("sending",af,P,ae)}if(this.options.uploadMultiple&&this.emit("sendingmultiple",ag,P,ae),"FORM"===this.element.tagName){for(O=this.element.querySelectorAll("input, textarea, select, button"),J=0,F=O.length;F>J;J++){Z=O[J],Y=Z.getAttribute("name"),X=Z.getAttribute("type"),(!X||"checkbox"!==(M=X.toLowerCase())&&"radio"!==M||Z.checked)&&ae.append(Y,Z.value)}}for(I=0,c=ag.length;c>I;I++){af=ag[I],ae.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),af,af.name)}return P.send(ae)},i.prototype._finished=function(l,w,v){var u,t,s;for(t=0,s=l.length;s>t;t++){u=l[t],u.status=i.SUCCESS,this.emit("success",u,w,v),this.emit("complete",u)}return this.options.uploadMultiple&&(this.emit("successmultiple",l,w,v),this.emit("completemultiple",l)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(l,w,v){var u,t,s;for(t=0,s=l.length;s>t;t++){u=l[t],u.status=i.ERROR,this.emit("error",u,w,v),this.emit("complete",u)}return this.options.uploadMultiple&&(this.emit("errormultiple",l,w,v),this.emit("completemultiple",l)),this.options.autoProcessQueue?this.processQueue():void 0},i}(q),r.version="3.7.1",r.options={},r.optionsForElement=function(c){return c.id?r.options[p(c.id)]:void 0},r.instances=[],r.forElement=function(c){if("string"==typeof c&&(c=document.querySelector(c)),null==(null!=c?c.dropzone:void 0)){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return c.dropzone},r.autoDiscover=!0,r.discover=function(){var i,c,s,l,k,j;for(document.querySelectorAll?s=document.querySelectorAll(".dropzone"):(s=[],i=function(u){var t,x,w,v;for(v=[],x=0,w=u.length;w>x;x++){t=u[x],/(^| )dropzone($| )/.test(t.className)?v.push(s.push(t)):v.push(void 0)}return v},i(document.getElementsByTagName("div")),i(document.getElementsByTagName("form"))),j=[],l=0,k=s.length;k>l;l++){c=s[l],r.optionsForElement(c)!==!1?j.push(new r(c)):j.push(void 0)}return j},r.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],r.isBrowserSupported=function(){var i,c,l,k,j;if(i=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList" in document.createElement("a")){for(j=r.blacklistedBrowsers,l=0,k=j.length;k>l;l++){c=j[l],c.test(navigator.userAgent)&&(i=!1)}}else{i=!1}}else{i=!1}return i},m=function(j,i){var t,s,l,k;for(k=[],s=0,l=j.length;l>s;s++){t=j[s],t!==i&&k.push(t)}return k},p=function(c){return c.replace(/[\-_](\w)/g,function(i){return i[1].toUpperCase()})},r.createElement=function(i){var c;return c=document.createElement("div"),c.innerHTML=i,c.childNodes[0]},r.elementInside=function(i,c){if(i===c){return !0}for(;i=i.parentNode;){if(i===c){return !0}}return !1},r.getElement=function(j,i){var k;if("string"==typeof j?k=document.querySelector(j):null!=j.nodeType&&(k=j),null==k){throw new Error("Invalid `"+i+"` option provided. Please provide a CSS selector or a plain HTML element.")}return k},r.getElements=function(B,A){var z,y,x,w,v,u,t,s;if(B instanceof Array){x=[];try{for(w=0,u=B.length;u>w;w++){y=B[w],x.push(this.getElement(y,A))}}catch(l){z=l,x=null}}else{if("string"==typeof B){for(x=[],s=document.querySelectorAll(B),v=0,t=s.length;t>v;v++){y=s[v],x.push(y)}}else{null!=B.nodeType&&(x=[B])}}if(null==x||!x.length){throw new Error("Invalid `"+A+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return x},r.confirm=function(j,i,k){return window.confirm(j)?i():null!=k?k():void 0},r.isValidFile=function(j,i){var u,t,s,l,k;if(!i){return !0}for(i=i.split(","),t=j.type,u=t.replace(/\/.*$/,""),l=0,k=i.length;k>l;l++){if(s=i[l],s=s.trim(),"."===s.charAt(0)){if(-1!==j.name.indexOf(s,j.name.length-s.length)){return !0}}else{if(/\/\*$/.test(s)){if(u===s.replace(/\/.*$/,"")){return !0}}else{if(t===s){return !0}}}}return !1},"undefined"!=typeof f&&null!==f&&(f.fn.dropzone=function(c){return this.each(function(){return new r(this,c)})}),"undefined"!=typeof g&&null!==g?g.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success",o=function(D,C){var B,A,z,y,x,w,v,u,t;if(z=!1,t=!0,A=D.document,u=A.documentElement,B=A.addEventListener?"addEventListener":"attachEvent",v=A.addEventListener?"removeEventListener":"detachEvent",w=A.addEventListener?"":"on",y=function(i){return"readystatechange"!==i.type||"complete"===A.readyState?(("load"===i.type?D:A)[v](w+i.type,y,!1),!z&&(z=!0)?C.call(D,i.type||i):void 0):void 0},x=function(){var i;try{u.doScroll("left")}catch(c){return i=c,setTimeout(x,50),void 0}return y("poll")},"complete"!==A.readyState){if(A.createEventObject&&u.doScroll){try{t=!D.frameElement}catch(s){}t&&x()}return A[B](w+"DOMContentLoaded",y,!1),A[B](w+"readystatechange",y,!1),D[B](w+"load",y,!1)}},r._autoDiscoverFunction=function(){return r.autoDiscover?r.discover():void 0},o(window,r._autoDiscoverFunction)}.call(this),g.exports});
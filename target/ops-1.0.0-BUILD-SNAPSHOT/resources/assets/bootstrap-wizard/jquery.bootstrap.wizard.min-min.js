/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(b){var a=function(k,i){k=b(k);var h=this,e=b.extend({},b.fn.bootstrapWizard.defaults,i),j=null,l=null;this.rebindClick=function(c,d){c.unbind("click",d).bind("click",d)};this.fixNavigationButtons=function(){j.length||(l.find("a:first").tab("show"),j=l.find('li:has([data-toggle="tab"]):first'));b(e.previousSelector,k).toggleClass("disabled",h.firstIndex()>=h.currentIndex());b(e.nextSelector,k).toggleClass("disabled",h.currentIndex()>=h.navigationLength());h.rebindClick(b(e.nextSelector,k),h.next);h.rebindClick(b(e.previousSelector,k),h.previous);h.rebindClick(b(e.lastSelector,k),h.last);h.rebindClick(b(e.firstSelector,k),h.first);if(e.onTabShow&&"function"===typeof e.onTabShow&&!1===e.onTabShow(j,l,h.currentIndex())){return !1}};this.next=function(c){if(k.hasClass("last")||e.onNext&&"function"===typeof e.onNext&&!1===e.onNext(j,l,h.nextIndex())){return !1}$index=h.nextIndex();$index>h.navigationLength()||l.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show")};this.previous=function(c){if(k.hasClass("first")||e.onPrevious&&"function"===typeof e.onPrevious&&!1===e.onPrevious(j,l,h.previousIndex())){return !1}$index=h.previousIndex();0>$index||l.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show")};this.first=function(c){if(e.onFirst&&"function"===typeof e.onFirst&&!1===e.onFirst(j,l,h.firstIndex())||k.hasClass("disabled")){return !1}l.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")};this.last=function(c){if(e.onLast&&"function"===typeof e.onLast&&!1===e.onLast(j,l,h.lastIndex())||k.hasClass("disabled")){return !1}l.find('li:has([data-toggle="tab"]):eq('+h.navigationLength()+") a").tab("show")};this.currentIndex=function(){return l.find('li:has([data-toggle="tab"])').index(j)};this.firstIndex=function(){return 0};this.lastIndex=function(){return h.navigationLength()};this.getIndex=function(c){return l.find('li:has([data-toggle="tab"])').index(c)};this.nextIndex=function(){return l.find('li:has([data-toggle="tab"])').index(j)+1};this.previousIndex=function(){return l.find('li:has([data-toggle="tab"])').index(j)-1};this.navigationLength=function(){return l.find('li:has([data-toggle="tab"])').length-1};this.activeTab=function(){return j};this.nextTab=function(){return l.find('li:has([data-toggle="tab"]):eq('+(h.currentIndex()+1)+")").length?l.find('li:has([data-toggle="tab"]):eq('+(h.currentIndex()+1)+")"):null};this.previousTab=function(){return 0>=h.currentIndex()?null:l.find('li:has([data-toggle="tab"]):eq('+parseInt(h.currentIndex()-1)+")")};this.show=function(c){return k.find('li:has([data-toggle="tab"]):eq('+c+") a").tab("show")};this.disable=function(c){l.find('li:has([data-toggle="tab"]):eq('+c+")").addClass("disabled")};this.enable=function(c){l.find('li:has([data-toggle="tab"]):eq('+c+")").removeClass("disabled")};this.hide=function(c){l.find('li:has([data-toggle="tab"]):eq('+c+")").hide()};this.display=function(c){l.find('li:has([data-toggle="tab"]):eq('+c+")").show()};this.remove=function(d){var c="undefined"!=typeof d[1]?d[1]:!1;d=l.find('li:has([data-toggle="tab"]):eq('+d[0]+")");c&&(c=d.find("a").attr("href"),b(c).remove());d.remove()};l=k.find("ul:first",k);j=l.find('li:has([data-toggle="tab"]).active',k);l.hasClass(e.tabClass)||l.addClass(e.tabClass);if(e.onInit&&"function"===typeof e.onInit){e.onInit(j,l,0)}if(e.onShow&&"function"===typeof e.onShow){e.onShow(j,l,h.nextIndex())}h.fixNavigationButtons();b('a[data-toggle="tab"]',l).on("click",function(c){c=l.find('li:has([data-toggle="tab"])').index(b(c.currentTarget).parent('li:has([data-toggle="tab"])'));if(e.onTabClick&&"function"===typeof e.onTabClick&&!1===e.onTabClick(j,l,h.currentIndex(),c)){return !1}});b('a[data-toggle="tab"]',l).on("shown shown.bs.tab",function(c){$element=b(c.target).parent();c=l.find('li:has([data-toggle="tab"])').index($element);if($element.hasClass("disabled")||e.onTabChange&&"function"===typeof e.onTabChange&&!1===e.onTabChange(j,l,h.currentIndex(),c)){return !1}j=$element;h.fixNavigationButtons()})};b.fn.bootstrapWizard=function(e){if("string"==typeof e){var c=Array.prototype.slice.call(arguments,1);1===c.length&&c.toString();return this.data("bootstrapWizard")[e](c)}return this.each(function(f){f=b(this);if(!f.data("bootstrapWizard")){var d=new a(f,e);f.data("bootstrapWizard",d)}})};b.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);